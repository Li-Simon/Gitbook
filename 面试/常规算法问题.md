# 常规问题

### 数值的整数次方

$$\kern{4 em} a^n = a^{(n-1)/2}a^{(n-1)/2}$$,a is even  
$$\kern{4 em} a^n = a^{(n-1)/2}a^{(n-1)/2}a$$,a is old

```cpp
double Chapter3::Power(double base, int exponent)
{
    if(base <= 0)
    {
        this->bmInvideSetting = false;
        return 0;
    }
    if(exponent ==0)
    {
        return 1;
    }

    if(exponent < 0)
    {
        base = 1.0/base;
        exponent = -exponent;
    }
    double result = Power(base, exponent>>1);
    result *= result;
    if(exponent & 0x1 == 1)
        result *= base;
    return result;
}
```

### 数组奇偶分类

奇数在前，偶数在后排列，复杂度$$O(n)$$

```cpp
void Chapter3::RecordOddEven(int *pData, unsigned int length)
{
    if(pData == NULL || length == 0)
        return;
    int *pStart = pData;
    int *pEnd = pData + length - 1;
    int temp;
    while(pStart < pEnd)
    {
        if(*pStart & 1 == 1)
        {
            pStart++;
        }
        else
        {

            temp = *pEnd;
            *pEnd = *pStart;
            *pStart = temp;
            pEnd--;
        }
    }
}
```

pStart &lt; pEnd比大小，就是比较内存中位置先后。

### 一次查找链表倒数第k个节点

```cpp
ListNode* Chapter3::FindKthToTail(ListNode* pHeadList, unsigned int k)
{
	if(pHeadList == NULL)
		return NULL;
	ListNode *KthNode = pHeadList;
	int num = 0;

	while(++num<k)
	{
		pHeadList = pHeadList->m_pNext;
		if(pHeadList ==NULL)
			return NULL;
	}
	while(pHeadList != NULL)
	{
		pHeadList = pHeadList->m_pNext;
		if(pHeadList ==NULL)
			return KthNode;
		KthNode = KthNode->m_pNext;
		
	}
}
```

```cpp
//test FindKthToTail
int _tmain(int argc, _TCHAR* argv[])
{
	Chapter3* chp = new Chapter3();
	ListNode* p;
	ListNode* head = new ListNode();
	p = head;
	for(int n = 0; n < 10; n++)
	{
		ListNode* node = new ListNode();
		node->m_value = n;
		p->m_pNext = node;
		p = node;
	}
	p->m_pNext = NULL;
	int k_th = 2;
	ListNode *kthNode = chp->FindKthToTail(head, k_th);
	cout << "Last "<< k_th <<" is:"<<kthNode->m_value<<endl;
	return 0;
}
```
### 在O(1)时间内删除一个节点
方法：通过用节点下一个节点来覆盖这个节点，因此不需要查询将被删除节点前面的所有节点。
##问题：
如果你传入一个指针，实际上你传入的就是一个物理地址，对于链表而言，你不能在链表头接入一个元素，因为最终出来的时候，指针（的地址）一直没变，因此技术你在函数里面对指针进行赋值，但是出了函数，有没有效果了。

##树




