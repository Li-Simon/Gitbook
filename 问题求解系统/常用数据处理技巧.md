# 常用数据处理技巧

## 文本数据

### 文本数据统计

统计文本中词出现的频率，具体一个场景就是统计购物历史记录中的每类物品总的销售量。这些技巧都要固化到自己软件系统中。

set\(\)是不重复集合，相当于字典的key。

```py
def cross_selling(file_path_name):
    grocery_items = set()
    with open(file_path_name) as f:
        reader = csv.reader(f, delimiter=",")
        for i, line in enumerate(reader):
            grocery_items.update(line)
    output_list = list()
    with open(file_path_name) as f:
        reader = csv.reader(f, delimiter=",")
        for i, line in enumerate(reader):
            row_val = {item: 0 for item in grocery_items}//set item to 0 as initial value
            row_val.update({item: 1 for item in line})//set to 1 if item in line
            output_list.append(row_val)
    grocery_df = pd.DataFrame(output_list)
    return grocery_df


if __name__ == '__main__':
    file_path_name = "C:\Users\pili\GitBook\Kaggle\OnlineRetailTransactions\grocery_dataset.txt"
    cross_selling(file_path_name)
```



