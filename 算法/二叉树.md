#二叉树
主要介绍二叉搜索树，AVL树和红黑树，以及介绍怎么通过旋转来为AVL树，红黑书删除和插入元素。  
## 二叉搜索树

二叉搜索树\(Binary Search Tree, BST\)主要用于查找，其好处则是把最差情况下的平均搜索时间降为O\(log n\)。它满足如下特征：  
左子树中的元素都小于等于根节点的数据，而右子树中的元素都大于等于根节点数据。  
二叉搜索树的基本操作有搜索，插入，删除。

### 索引二叉搜索树

索引二叉搜索树源于普通二叉搜索树，只是每个节点添加一个leftsize域，这个域的值就是该节点左子树的元素个数。

## 平衡搜索树

平衡二叉树结构有两种：AVL和红黑树。AVL和红黑树适合内部储存的应用，B-树适合外部储存的应用\(例如：存储在磁盘上的大型词典\)。这些平衡树结构都可以在最坏情况下用时O\(log n\)实现字典操作和按名次的操作。   
STL类map和multimap使用的是红黑树结构，以保证查找，插入和删除操作具有对数级的时间性能。[^1]
AVL树和红黑树都使用"旋转"来保持平衡。AVL树对每个插入操作最多需要一次旋转，对每个删除操作最多需要O(log n)次旋转。而红黑树对每个插入和删除操作，都只需要一次旋转。
###AVL树(平衡二叉树)
如果数的高度总是O(log n)，我们就能保证查找，插入和删除的时间为O(log n)。
#####平衡树
最坏情况下的高度为O(log n)的树称为平衡树。  
AVL树的定义：  
一棵空的二叉树是AVL树；如果T是一棵非空二叉树，$$T_L$$和$$T_R$$分别是其左子树和右子树，那么当T满足以下条件时，T是一棵AVL树：  
1)：$$T_L$$和$$T_R$$是AVL树。  
2): $$|h_L-h_R| \le 1$$，其中$$h_L$$和$$h_R$$分别是$$T_L$$和$$T_R$$的高。  
一棵AVL搜索树既是二叉搜索树，也是AVL树。   
###红黑树
红黑树是很多平衡查找树中的一种，它呢个保证在最坏的情况下，基本的动态集合操作的时间为O(log n)。通过对任何一条从根到叶子的路径上的各个节点着色方式的限制，红黑树确保没有一条路径会比其它路径长出两倍，因而使接近平衡的。     
红黑树每个节点包含五个域:color,key,left,right,和p。如果某节点没有子节点或者没有父节点，则该节点相应的指针(p)域包含值NIL。我们将把这些NIL视为指向二叉查找树的外节点(叶子)的指针，而把带关键字的节点视为树的内节点。  
一棵二叉查找树满足下面的红黑性质就是一棵红黑树：  
1)每个节点或是红色，或是黑色。   
2)根节点是黑色的。      
3)每一个叶节点(NIL)是黑色的。  
4)如果一个节点是红色的，则它的两个儿子都是黑的。  
5)对每个节点，从该节点到其子孙节点的所有路径上包含相同数目的黑节点。  
####旋转[^2]
由于在红黑树上运行插入与删除的时候，会对树做修改，而导致修改后的树不再是红黑树。为了保持这些红黑树性质，就要改变树中某些节点的颜色与指针结构。指针结构的修改是通过旋转来完成的。  
二叉查找树中旋转操作。操作LEFT-ROTATE(T,x)通过改变常数个指针来将左边两个节点的结构变成右边的结构。左边的结构可以使用相反的操作RIGHT-TOTATE(T,x)来转变成左边的结构。字母$$\alpha,\beta$$以及$$\gamma$$代表任意的子树。旋转操作保留二叉树的属性；$$\alpha$$的关键字在key[x]之前，key[x]的关键字在$$\beta$$之前，$$\beta$$的关键字在key[y]之前，key[y]的关键字在$$\gamma$$之前。  
一个问题就是为啥可以通过旋转来维持红黑树的性质？

[^1]: 《数据结构，算法与应用--C++语言描述》P359
[^2]: 《算法导论》P165
